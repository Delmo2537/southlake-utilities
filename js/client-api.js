window.ClientApi={clientApiPath:"",companyId:function(){return $("#company-id").val()},configure:function(n){ClientApi.clientApiPath=n;ClientApi.setTimezoneOffset()},saveWidgetLayout:function(n,t){return $.post(ClientApi.clientApiPath+"admin/api/widgets/layout/"+n,{widgetLayout:t,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},getWidget:function(n,t,i){n==="AdminHome"&&(n="admin/home");var r=ClientApi.clientApiPath+n+"/widget?name="+encodeURIComponent(t);return i&&(r=r+"&widgetId="+i),$.get(r)},getCurrentUser:function(){return $.get(ClientApi.clientApiPath+"api/common/currentuser")},registerPayment:function(n){return n.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),n.__captcha=$("#captcha").val(),$.post(ClientApi.clientApiPath+"api/paymentrelay/company/"+n.companyId+"/locations/"+n.locationId+"/register-relay-payment",n)},submitScheduledPayment:function(n){return n.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),n.__captcha=$("#captcha").val(),$.post(ClientApi.clientApiPath+"api/paymentrelay/company/"+n.companyId+"/locations/"+n.locationId+"/submit-scheduled-payment",n)},getServiceFee:function(n,t,i,r){return $.get(ClientApi.clientApiPath+"api/paymentrelay/company/"+n+"/locations/"+t+"/service-fee/?paymentType="+i+"&paymentAmount="+r)},getNewAccounts:function(n,t,i,r,u,f,e){return $.post(ClientApi.clientApiPath+"account/search",{searchValue:n,companyID:t,requestNew:i,enableIdentityConfirmation:r,enableSSNConfirmation:u,enablePhoneNoConfirmation:f,accountIdentityConfirmation:e,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},deleteWalletItem:function(n,t){return t.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),$.ajax({type:"DELETE",url:ClientApi.clientApiPath+"api/common/wallet-item/"+n,data:t})},setWalletItemDefault:function(n,t){return t.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),$.ajax({type:"PATCH",url:ClientApi.clientApiPath+"api/common/wallet-item/"+n+"/set-default",data:t})},saveWalletItem:function(n,t){return t.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),$.post(ClientApi.clientApiPath+"api/users/"+n+"/walletitems",t)},getWalletItemConfig:function(n,t){return t.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),t.__captcha=$("#captcha").val(),$.post(ClientApi.clientApiPath+"api/users/"+n+"/walletitems-config",t)},storeWalletItemPayment:function(n){return n.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),$.post(ClientApi.clientApiPath+"api/store-payment-wallet",n)},setWalletItemRecurring:function(n,t,i){return i.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),$.post(ClientApi.clientApiPath+"api/users/"+n+"/walletitems/"+t+"/set-recurring",i)},removeWalletItemRecurring:function(n,t,i){return i.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),$.ajax({type:"PATCH",url:ClientApi.clientApiPath+"api/users/"+n+"/walletitems/"+t+"/remove-recurring",data:i})},updateMaintenanceMode:function(n,t,i,r,u,f,e,o){return $.post(ClientApi.clientApiPath+"api/admin/maintenance-mode/settings",{__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val(),enabled:n,message:t,isAutomatic:i,automaticMessage:r,enableSchedule:u,scheduleStartString:f,scheduleEndString:e,adminEmailAddress:o})},getMaintenanceModeStatus:function(){return $.get(ClientApi.clientApiPath+"api/admin/maintenance-mode/status")},getMaintenanceModeSettings:function(){return $.get(ClientApi.clientApiPath+"api/admin/maintenance-mode/settings")},verifyLogin:function(n,t){return $.post(ClientApi.clientApiPath+"api/users/login",{userName:n,password:t,rememberMe:!1,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},refreshUser:function(){return $.get(ClientApi.clientApiPath+"api/users/refresh")},getUsageHistory:function(n,t){return $.get(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/customers/"+n+"/usagehistory/"+t)},getUsageTrend:function(n,t,i){return $.get(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/customers/"+n+"/usagehistory/"+t+"?type="+i)},getDailyUsageTrend:function(n,t,i){return $.get(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/customers/"+n+"/usagehistory/"+t+"?type="+i)},getRecentBills:function(n,t){return $.get(ClientApi.clientApiPath+"api/customers/"+n+"/locations/"+t+"/recentBills")},getRecentPayments:function(n,t){return $.get(ClientApi.clientApiPath+"api/customers/"+n+"/locations/"+t+"/recentPayments")},getRecentCharges:function(n,t){return $.get(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/customers/"+n+"/locations/"+t+"/recentcharges")},getUtilityServiceFee:function(n,t,i,r,u,f,e){return $.get(ClientApi.clientApiPath+"api/companies/"+n+"/payments//locations/"+t+"/customers/"+r+"/utility-service-fee?locationNumber="+encodeURIComponent(i)+"&accountNumber="+encodeURIComponent(u)+"&paymentMethod="+f+"&paymentAmount="+e)},getReceipt:function(n,t){return $.get(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/payments/locations/"+n+"/receipt/"+t)},getScheduledReceipt:function(n,t){return $.get(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/payments/locations/"+n+"/scheduled-receipt/"+t)},IsUsernameAvailable:function(n){return $.post(ClientApi.clientApiPath+"api/customers/accounts/username-available",{__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val(),username:n})},getSmsSubscription:function(n){return $.get(ClientApi.clientApiPath+"api/smssubscription/"+n)},addSmsSubscription:function(n,t){return t.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),$.post(ClientApi.clientApiPath+"api/smssubscription/"+n,t)},linkAccount:function(n,t){return t.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),$.post(ClientApi.clientApiPath+"api/users/accounts/"+n+"/link",t)},changeUserPassword:function(n,t){return $.post(ClientApi.clientApiPath+"api/users/change_password",{__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val(),CurrentPassword:n,NewPassword:t,CompanyId:ClientApi.companyId()})},changeUserEmail:function(n){return $.post(ClientApi.clientApiPath+"api/users/change_email",{__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val(),EmailAdrs:n,CompanyId:ClientApi.companyId()})},getPasswordPreferences:function(){return $.get(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/password-preferences")},validatePassword:function(n){return $.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/password-preferences/valid",{"":n,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},editAccount:function(n,t){return t.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),$.post(ClientApi.clientApiPath+"api/users/accounts/"+n,t)},unlinkAccount:function(n){return $.post(ClientApi.clientApiPath+"api/users/accounts/"+n+"/unlink",{__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},getEbillInfo:function(){return $.get(ClientApi.clientApiPath+"admin/api/dashboard/companies/"+ClientApi.companyId()+"/ebill-participation")},getTotalPortalRevenue:function(){return $.get(ClientApi.clientApiPath+"admin/api/dashboard/companies/"+ClientApi.companyId()+"/total-portal-revenue")},getMonthlyPortalUsage:function(){return $.get(ClientApi.clientApiPath+"admin/api/dashboard/companies/"+ClientApi.companyId()+"/AggregatePeriod/Month")},getTotalPaymentBreakdown:function(n){return $.get(ClientApi.clientApiPath+"admin/api/dashboard/companies/"+ClientApi.companyId()+"/payment-breakdown/"+n)},getProductAdoptionInfo:function(){return $.get(ClientApi.clientApiPath+"admin/api/dashboard/companies/"+ClientApi.companyId()+"/product-adoption")},getSourceAdoptionInfo:function(){return $.get(ClientApi.clientApiPath+"admin/api/dashboard/companies/"+ClientApi.companyId()+"/source-adoption")},getNotificationAdoptionInfo:function(){return $.get(ClientApi.clientApiPath+"admin/api/dashboard/companies/"+ClientApi.companyId()+"/notification-adoption")},createAuthNetProfile:function(n,t,i){return $.post(ClientApi.clientApiPath+"api/v0/authorizenet/create-wallet-token",{info:t,nounce:n,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}).then(function(n){return i(n)})},getWalletItems:function(){return $.get(ClientApi.clientApiPath+"api/common/wallet-items")},getStripePaymentDetails:function(n,t){return $.get(ClientApi.clientApiPath+"api/companies/"+n+"/payments/"+t+"/details")},getUbVersionInformation:function(){return $.get(ClientApi.clientApiPath+"admin/api/control/UbVersionInformation")},getPortalVersionInformation:function(){return $.get(ClientApi.clientApiPath+"admin/api/control/PortalVersionInformation")},setTimezoneOffset:function(){var n={offsetMinutes:(new Date).getTimezoneOffset()*-1};return $.post(ClientApi.clientApiPath+"home/timezoneoffset",n)},sendTestEmail:function(n){return $.get(ClientApi.clientApiPath+"admin/api/manage/configuration/sendtestemail?toEmail="+n)},saveCommunicationPreferences:function(n,t,i){return $.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/customers/"+t+"/smscommunicationpreferences",{preferences:i,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},clearAzureEndpoint:function(){return $.post(ClientApi.clientApiPath+"admin/api/control/ClearEndpoint",{__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},manuallyRegisterStripeAccount:function(n){return $.ajax({type:"PUT",url:ClientApi.clientApiPath+"api/admin/payment-services/manual-register?accountId="+n,data:{__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()}})},processDeclines:function(n){return $.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/deferredcharges/decline-statement-deferred-charges",{declines:n,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},getPotentialPayoutTransactions:function(n,t,i){return $.get(ClientApi.clientApiPath+"api/admin/payment-services/payout-transactions?accountId="+n+"&fromDate="+t+"&toDate="+i)},saveDeferredChargeOpt:function(n,t){return $.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/deferredcharges/opts/"+n,{opts:t,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},getSmsUsage:function(){return $.get(ClientApi.clientApiPath+"admin/api/dashboard/companies/"+ClientApi.companyId()+"/sms-usage")},createPlaidLinkToken:function(n,t,i){return $.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/payments/plaid/link-token",{emailAddress:n,requestId:t,nameOnAccount:i,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},exchangePlaidToken:function(n,t,i,r,u,f){return $.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/payments/plaid/exchange",{publicToken:n,accountName:t,accountMask:i,institutionId:r,requestId:u,nameOnAccount:f,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},getPlaidAuthData:function(n,t){return $.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/payments/plaid/auth",{accountId:n,requestId:t,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},getPlaidItems:function(){return $.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/payments/plaid/items",{__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},getPlaidIdentity:function(n,t){return $.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/payments/plaid/identity",{accountId:n,requestId:t,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},removePlaidAccount:function(n,t){return $.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/payments/plaid/item/remove",{accountId:n,requestId:t,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},getPlaidAccountBalance:function(n,t){return $.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/payments/plaid/accounts/balance/get",{accountId:n,requestId:t,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},updatePlaidRequest:function(n,t){return $.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/payments/plaid/request",{requestId:n,nameOnAccount:t,__RequestVerificationToken:$("input[name=__RequestVerificationToken]").val()})},checkForDuplicateWallet:function(n,t,i){return i.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),$.post(ClientApi.clientApiPath+"api/users/"+n+"/customers/"+t+"/walletitems/check-for-duplicate",i)},sendPaymentReceiptTimeoutMessage:function(n){return n.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),$.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/payments/receipt-timeout",n)},sendPaymentReceiptFailedMessage:function(n){return n.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),$.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/payments/receipt-failed",n)},getMicrobiltReport:function(n){return n.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),$.post(ClientApi.clientApiPath+"api/companies/"+ClientApi.companyId()+"/payments/microbilt",n)}}